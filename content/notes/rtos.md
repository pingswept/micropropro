---
title: "Real-time OS"
draft: false
---

`pidstat -w` for normal Linux kernel 5.10.23 compiled from source on RPi for RPi

```
Linux 5.10.23-v7l-MPP+ (raspberrypi)    22/03/21        _armv7l_        (4 CPU)

19:31:24      UID       PID   cswch/s nvcswch/s  Command
19:31:24        0         1      0.03      0.01  systemd
19:31:24        0         2      0.01      0.00  kthreadd
19:31:24        0         3      0.00      0.00  rcu_gp
19:31:24        0         4      0.00      0.00  rcu_par_gp
19:31:24        0         8      0.00      0.00  mm_percpu_wq
19:31:24        0         9      0.00      0.00  rcu_tasks_rude_
19:31:24        0        10      0.00      0.00  rcu_tasks_trace
19:31:24        0        11      0.17      0.00  ksoftirqd/0
19:31:24        0        12      1.11      0.00  rcu_sched
19:31:24        0        13      0.01      0.00  migration/0
19:31:24        0        14      0.00      0.00  cpuhp/0
19:31:24        0        15      0.00      0.00  cpuhp/1
19:31:24        0        16      0.01      0.00  migration/1
19:31:24        0        17      0.10      0.00  ksoftirqd/1
19:31:24        0        20      0.00      0.00  cpuhp/2
19:31:24        0        21      0.01      0.00  migration/2
19:31:24        0        22      0.10      0.00  ksoftirqd/2
19:31:24        0        25      0.00      0.00  cpuhp/3
19:31:24        0        26      0.01      0.00  migration/3
19:31:24        0        27      0.10      0.00  ksoftirqd/3
19:31:24        0        30      0.00      0.00  kdevtmpfs
19:31:24        0        31      0.00      0.00  netns
19:31:24        0        35      0.00      0.00  kauditd
19:31:24        0        36      0.01      0.00  khungtaskd
19:31:24        0        37      0.00      0.00  oom_reaper
19:31:24        0        38      0.00      0.00  writeback
19:31:24        0        39      1.96      0.00  kcompactd0
19:31:24        0        57      0.00      0.00  kblockd
19:31:24        0        58      0.00      0.00  blkcg_punt_bio
19:31:24        0        60      0.00      0.00  watchdogd
19:31:24        0        62      0.00      0.00  rpciod
19:31:24        0        63      0.00      0.00  kworker/u9:0-hci0
19:31:24        0        64      0.00      0.00  xprtiod
19:31:24        0        65      0.00      0.00  kswapd0
19:31:24        0        66      0.00      0.00  nfsiod
19:31:24        0        67      0.00      0.00  kthrotld
19:31:24        0        68      0.00      0.00  iscsi_eh
19:31:24        0        69      0.00      0.00  iscsi_destroy
19:31:24        0        70      0.00      0.00  nvme-wq
19:31:24        0        71      0.00      0.00  nvme-reset-wq
19:31:24        0        72      0.00      0.00  nvme-delete-wq
19:31:24        0        75      0.00      0.00  DWC Notificatio
19:31:24        0        76      0.00      0.00  uas
19:31:24        0        78      0.00      0.00  vchiq-slot/0
19:31:24        0        79      0.00      0.00  vchiq-recy/0
19:31:24        0        80      0.00      0.00  vchiq-sync/0
19:31:24        0        81      0.00      0.00  zswap-shrink
19:31:24        0        83      0.00      0.00  sdhci
19:31:24        0        84      0.00      0.00  irq/48-mmc0
19:31:24        0        86      0.00      0.00  mmc_complete
19:31:24        0        87      0.09      0.00  kworker/2:1H-kblockd
19:31:24        0        88      0.02      0.01  jbd2/mmcblk0p2-
19:31:24        0        89      0.00      0.00  ext4-rsv-conver
19:31:24        0        91      0.00      0.00  ipv6_addrconf
19:31:24        0        97      0.06      0.00  kworker/1:1H-kblockd
19:31:24        0       122      0.02      0.00  systemd-journal
19:31:24        0       149      0.01      0.00  systemd-udevd
19:31:24        0       168      0.00      0.00  vchiq-keep/0
19:31:24        0       169      0.00      0.00  SMIO
19:31:24        0       180      0.00      0.00  mmal-vchiq
19:31:24        0       185      0.00      0.00  mmal-vchiq
19:31:24        0       189      0.00      0.00  mmal-vchiq
19:31:24        0       191      0.00      0.00  mmal-vchiq
19:31:24        0       215      0.00      0.00  cfg80211
19:31:24        0       221      0.00      0.00  v3d_bin
19:31:24        0       223      0.00      0.00  brcmf_wq/mmc1:0
19:31:24        0       225      0.00      0.00  v3d_render
19:31:24        0       226      0.23      0.01  brcmf_wdog/mmc1
19:31:24        0       228      0.00      0.00  v3d_tfu
19:31:24        0       230      0.00      0.00  v3d_csd
19:31:24        0       232      0.00      0.00  v3d_cache_clean
19:31:24      100       299      0.01      0.00  systemd-timesyn
19:31:24        0       334      0.02      0.00  cron
19:31:24      104       336      0.00      0.00  dbus-daemon
19:31:24        0       339      0.01      0.00  systemd-logind
19:31:24        0       341      0.01      0.00  alsactl
19:31:24    65534       345      0.20      0.00  thd
19:31:24      108       348      0.04      0.00  avahi-daemon
19:31:24        0       349      0.10      0.00  wpa_supplicant
19:31:24        0       351      0.00      0.00  rngd
19:31:24        0       355      0.00      0.00  rsyslogd
19:31:24      108       360      0.00      0.00  avahi-daemon
19:31:24        0       462      0.10      0.00  wpa_supplicant
19:31:24        0       475      0.00      0.00  hciattach
19:31:24        0       478      0.00      0.00  kworker/u9:2-hci0
19:31:24        0       479      0.00      0.00  bluetoothd
19:31:24        0       542      0.00      0.00  dhcpcd
19:31:24        0       546      1.00      0.00  supervisord
19:31:24        0       548      0.00      0.00  agetty
19:31:24        0       549      0.00      0.00  agetty
19:31:24        0       550      0.00      0.00  sshd
19:31:24        0       555      0.00      0.00  sshd
19:31:24     1000       558      0.00      0.00  systemd
19:31:24     1000       559      0.00      0.00  (sd-pam)
19:31:24     1000       572      0.08      0.01  sshd
19:31:24     1000       573      0.01      0.00  zsh
19:31:24        0     17923      0.04      0.00  kworker/0:0H-mmc_complete
19:31:24        0     18988      0.02      0.00  kworker/3:2H-kblockd
19:31:24        0     27921      0.06      0.01  kworker/u8:0-events_unbound
19:31:24        0     29091      0.02      0.00  kworker/u8:1-brcmf_wq/mmc1:0001:1
19:31:24        0     29099      0.15      0.00  kworker/2:1-events_power_efficient
19:31:24        0     29320      0.07      0.00  kworker/3:0-mm_percpu_wq
19:31:24        0     29738      0.00      0.00  kworker/2:2-mm_percpu_wq
19:31:24        0     29767      0.04      0.00  kworker/0:2-events
19:31:24        0     29779      0.02      0.00  kworker/1:2-mm_percpu_wq
19:31:24        0     29789      0.00      0.00  kworker/0:0-events
19:31:24        0     29791      0.02      0.00  kworker/u8:3-events_unbound
19:31:24        0     30138      0.01      0.00  kworker/1:3-events_power_efficient
19:31:24        0     30281      0.00      0.00  kworker/1:0H
19:31:24        0     30284      0.00      0.00  kworker/2:2H
19:31:24        0     30287      0.00      0.00  kworker/0:1H-mmc_complete
19:31:24        0     30313      0.00      0.00  kworker/3:0H
19:31:24        0     30727      0.00      0.00  kworker/3:1-mm_percpu_wq
19:31:24        0     30948      0.01      0.00  kworker/1:0-events
19:31:24        0     30949      0.00      0.00  kworker/0:1-events
19:31:24        0     30951      0.00      0.00  kworker/1:2H
19:31:24        0     30955      0.01      0.00  kworker/u8:2-events_unbound
19:31:24        0     31155      0.00      0.00  kworker/0:3-events
```

`pidstat -w` for Linux kernel 4.19.71 with PREEMPT_RT patches compiled from source on RPi for RPi

```
Linux 4.19.71-rt24-v7l-MPP-RT+ (raspberrypi)    22/03/21        _armv7l_        (4 CPU)

19:40:21      UID       PID   cswch/s nvcswch/s  Command
19:40:21        0         1     18.26     23.89  systemd
19:40:21        0         2      0.92      0.01  kthreadd
19:40:21        0         3      0.01      0.01  rcu_gp
19:40:21        0         4      0.01      0.01  rcu_par_gp
19:40:21        0         5      0.11      0.01  kworker/0:0-events_power_efficient
19:40:21        0         6      0.06      0.01  kworker/0:0H-kblockd
19:40:21        0         7     19.03      2.57  kworker/u8:0-events_unbound
19:40:21        0         8      0.01      0.01  kswork
19:40:21        0         9      0.01      0.01  mm_percpu_wq
19:40:21        0        10     21.03      2.97  ksoftirqd/0
19:40:21        0        11     22.79      0.49  ktimersoftd/0
19:40:21        0        12     10.81      0.05  rcu_preempt
19:40:21        0        13      5.41      0.03  rcu_sched
19:40:21        0        14      0.01      0.01  rcub/0
19:40:21        0        15     12.22      0.93  rcuc/0
19:40:21        0        16      0.47      0.01  kswork
19:40:21        0        17      0.02      0.01  posixcputmr/0
19:40:21        0        18      0.22      0.01  migration/0
19:40:21        0        19      0.04      0.01  cpuhp/0
19:40:21        0        20      0.04      0.01  cpuhp/1
19:40:21        0        21      0.28      0.01  migration/1
19:40:21        0        22      0.02      0.01  posixcputmr/1
19:40:21        0        23     11.91      0.01  rcuc/1
19:40:21        0        24     14.96      0.01  ktimersoftd/1
19:40:21        0        25     14.61      1.74  ksoftirqd/1
19:40:21        0        26      0.20      0.01  kworker/1:0-events
19:40:21        0        27      0.06      0.01  kworker/1:0H-kblockd
19:40:21        0        28      0.04      0.01  cpuhp/2
19:40:21        0        29      0.34      0.01  migration/2
19:40:21        0        30      0.02      0.01  posixcputmr/2
19:40:21        0        31     11.57      0.01  rcuc/2
19:40:21        0        32     14.18      0.01  ktimersoftd/2
19:40:21        0        33     10.86      1.07  ksoftirqd/2
19:40:21        0        34      0.12      0.01  kworker/2:0-events
19:40:21        0        35      0.06      0.01  kworker/2:0H-kblockd
19:40:21        0        36      0.04      0.01  cpuhp/3
19:40:21        0        37      0.35      0.01  migration/3
19:40:21        0        38      0.02      0.01  posixcputmr/3
19:40:21        0        39      9.70      0.01  rcuc/3
19:40:21        0        40     10.65      0.01  ktimersoftd/3
19:40:21        0        41     10.90      0.96  ksoftirqd/3
19:40:21        0        42      0.11      0.01  kworker/3:0-cgroup_destroy
19:40:21        0        43      0.06      0.01  kworker/3:0H
19:40:21        0        44      1.09      0.02  kdevtmpfs
19:40:21        0        45      0.01      0.00  netns
19:40:21        0        46      0.01      0.00  rcu_tasks_kthre
19:40:21        0        47      0.78      0.01  irq/31-fe00b880
19:40:21        0        48     11.44      3.48  kworker/0:1-events
19:40:21        0        49      0.02      0.00  khungtaskd
19:40:21        0        50      0.01      0.00  oom_reaper
19:40:21        0        51      0.01      0.00  writeback
19:40:21        0        52      0.01      0.00  kcompactd0
19:40:21        0        53      0.01      0.00  crypto
19:40:21        0        54      0.01      0.00  kblockd
19:40:21        0        55      0.01      0.00  watchdogd
19:40:21        0        56      4.19      0.06  kworker/2:1-events
19:40:21        0        57      0.01      0.00  rpciod
19:40:21        0        58      0.25      0.00  kworker/u9:0-hci0
19:40:21        0        59      0.01      0.00  xprtiod
19:40:21        0        60     17.64      2.14  kworker/u8:1-events_unbound
19:40:21        0        62      0.01      0.01  kswapd0
19:40:21        0        63      0.01      0.01  nfsiod
19:40:21        0        74      0.01      0.00  kthrotld
19:40:21        0        75      4.11      0.09  kworker/1:1-events
19:40:21        0        76      0.01      0.00  irq/56-PCIe PME
19:40:21        0        77      0.01      0.00  irq/56-aerdrv
19:40:21        0        78      3.25      0.01  kworker/3:1-events
19:40:21        0        79      0.01      0.00  iscsi_eh
19:40:21        0        81      0.23      0.00  irq/57-xhci_hcd
19:40:21        0        82      0.26      0.01  kworker/0:2-usb_hub_wq
19:40:21        0        83      0.01      0.00  dwc_otg
19:40:21        0        84      0.01      0.01  irq/38-dwc_otg
19:40:21        0        85      0.01      0.01  irq/38-dwc_otg_
19:40:21        0        86      0.01      0.01  irq/38-dwc_otg_
19:40:21        0        87      0.01      0.00  DWC Notificatio
19:40:21        0        89      0.35      0.00  vchiq-slot/0
19:40:21        0        90      0.01      0.00  vchiq-recy/0
19:40:21        0        91      0.01      0.01  vchiq-sync/0
19:40:21        0        92      0.32      0.01  irq/55-VCHIQ do
19:40:21        0        93      0.01      0.00  vchiq-keep/0
19:40:21        0        94      0.01      0.00  SMIO
19:40:21        0        95      0.13      0.04  kworker/0:3-events_freezable
19:40:21        0        96      3.43      2.28  kworker/0:4-events_freezable
19:40:21        0        97      0.01      0.01  irq/39-brcmstb_
19:40:21        0        98      2.33      0.01  irq/23-DMA IRQ
19:40:21        0        99    112.61      0.01  irq/40-mmc1
19:40:21        0       100      8.19      7.72  irq/40-s-mmc1
19:40:21        0       101    101.73      0.01  irq/40-mmc0
19:40:21        0       102      0.01      0.01  irq/40-s-mmc0
19:40:21        0       103      0.01      0.00  mmc_complete
19:40:21        0       104     30.51      9.35  kworker/0:1H-mmc_complete
19:40:21        0       105      9.01      0.07  kworker/1:1H-kblockd
19:40:21        0       106      2.10      0.02  kworker/0:2H-mmc_complete
19:40:21        0       107      0.29      0.19  jbd2/mmcblk0p2-
19:40:21        0       108      0.01      0.00  ext4-rsv-conver
19:40:21        0       109      4.41      0.01  kworker/1:2H
19:40:21        0       110      0.01      0.00  ipv6_addrconf
19:40:21        0       112      3.46      0.01  kworker/2:1H-kblockd
19:40:21        0       115      2.89      0.02  kworker/3:1H-kblockd
19:40:21        0       120      2.86      0.05  kworker/2:2-events
19:40:21        0       128      0.64      0.00  kworker/2:2H
19:40:21        0       129      0.48      0.00  kworker/3:2H
19:40:21        0       140     11.26      2.04  systemd-journal
19:40:21        0       146     24.55      0.87  kworker/u8:2-events_unbound
19:40:21        0       147      0.04      0.01  kworker/u8:3
19:40:21        0       149     25.20      1.84  kworker/u8:4-brcmf_wq/mmc1:0001:1
19:40:21        0       162      2.04      0.02  kworker/3:2-events
19:40:21        0       175      1.17     12.18  systemd-udevd
19:40:21        0       198      0.02      0.00  SMIO
19:40:21        0       232      0.01      0.00  mmal-vchiq
19:40:21        0       233      0.01      0.01  mmal-vchiq
19:40:21        0       234      0.01      0.01  mmal-vchiq
19:40:21        0       261      0.01      0.00  v3d_bin
19:40:21        0       262      0.01      0.00  v3d_render
19:40:21        0       263      0.01      0.00  v3d_tfu
19:40:21        0       264      0.01      0.00  v3d_csd
19:40:21        0       265      0.01      0.00  v3d_cache_clean
19:40:21        0       266      0.01      0.01  irq/46-v3d
19:40:21        0       278      0.01      0.01  cfg80211
19:40:21        0       279     11.21      0.13  kworker/1:2-events
19:40:21        0       286      0.01      0.00  brcmf_wq/mmc1:0
19:40:21        0       287      4.12      0.30  brcmf_wdog/mmc1
19:40:21        0       288      3.48      0.55  kworker/1:3-mm_percpu_wq
19:40:21        0       332      0.02      0.00  kworker/u8:5
19:40:21      100       340      0.20      8.34  systemd-timesyn
19:40:21      104       377      2.22      1.43  dbus-daemon
19:40:21    65534       379      0.35      0.18  thd
19:40:21        0       380      0.02      0.02  rngd
19:40:21        0       392      0.37      0.27  cron
19:40:21        0       396      0.82      0.53  rsyslogd
19:40:21        0       401      2.14      0.91  systemd-logind
19:40:21        0       408     41.64      0.01  irq/34-uart-pl0
19:40:21      108       410      1.37      0.63  avahi-daemon
19:40:21        0       423      1.02      0.66  wpa_supplicant
19:40:21      108       427      0.07      0.02  avahi-daemon
19:40:21        0       428      0.43      0.20  alsactl
19:40:21        0       506      0.36      0.03  wpa_supplicant
19:40:21        0       513      4.51      0.01  irq/48-eth0
19:40:21        0       514      0.01      0.01  irq/49-eth0
19:40:21        0       522      0.01      0.00  kworker/2:3
19:40:21        0       528      0.01      0.00  hciattach
19:40:21        0       530      0.56      0.04  kworker/u9:1-hci0
19:40:21        0       531      0.52      0.03  kworker/u9:2-hci0
19:40:21        0       533      0.47      0.46  bluetoothd
19:40:21        0       597      0.09      0.00  dhcpcd
19:40:21        0       599      2.82      3.76  supervisord
19:40:21        0       603      0.08      0.11  agetty
19:40:21        0       604      0.04      0.07  agetty
19:40:21        0       605      0.02      0.04  sshd
19:40:21        0       608      0.07      0.01  irq/36-ttyS0
19:40:21        0       612      0.37      0.61  sshd
19:40:21     1000       621      0.20      0.45  systemd
19:40:21     1000       624      0.01      0.00  (sd-pam)
19:40:21     1000       638      2.12     29.38  sshd
19:40:21     1000       641      2.09      2.67  zsh
19:40:21     1000       705      0.01      0.06  pidstat
```
